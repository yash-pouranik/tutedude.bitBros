<% var active = typeof active !== 'undefined' ? active : ''; %>
<nav class="navbar navbar-expand-lg navbar-dark custom-navbar shadow-sm">
  <div class="container-fluid">

    <!-- Logo / Brand -->
    <a class="navbar-brand animated-logo d-flex align-items-center gap-2" href="/">
      <img src="/images/logo.png" alt="Logo" style="height: 30px; width: auto; border-radius: 50px;" />
      Gully Bazaar
    </a>

    <!-- Toggler for mobile -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" 
      aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Navbar links -->
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link <%= active === 'dashboard' ? 'active' : '' %>" href="/dashboard">üìä Dashboard</a>
        </li>

        <% if (currUser && currUser.userType === 'supplier') { %>
          <li class="nav-item">
            <a class="nav-link <%= active === 'add-product' ? 'active' : '' %>" href="/supplier/add-product">‚ûï Add Product</a>
          </li>
        <% } %>

        <li class="nav-item">
          <a class="nav-link <%= active === 'home' ? 'active' : '' %>" href="/">üè† Home</a>
        </li>

        <% if (currUser && currUser.userType === 'vendor') { %>
          <li class="nav-item">
            <a class="nav-link <%= active === 'cart' ? 'active' : '' %>" href="/cart/view">üõí Your-Cart</a>
          </li>
        <% } %>

        <li class="nav-item">
          <a class="nav-link <%= active === 'shopping' ? 'active' : '' %>" href="/shopping">ü•ó Products</a>
        </li>
        
      </ul>

      <!-- Login/Logout Buttons -->
      <div class="d-flex">
        <% if(!currUser) { %>
          <a href="/login" class="btn btn-outline-light me-2">Login</a>
          <a href="/signup" class="btn btn-warning">Register</a>
        <% } else { %>
          
            
          <a class="nav-link btn btn-danger" <%= active === 'notification' ? 'active' : '' %>" href="/notifications" class="btn btn-success" style="background-color: yellow !important; margin-right: 1rem; padding: 5px">üîî Notification</a>
         
        
          <a href="/logout" class="btn btn-danger">Logout</a>
        <% } %>
      </div>
    </div>
  </div>
</nav>


<style>
  /* Navbar Background */
.custom-navbar {
  background: linear-gradient(135deg, #312d42, #100e18);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

/* Animated Logo */
.animated-logo {
  font-weight: bold;
  font-size: 1.6rem;
  animation: bounce 1.2s ease-in-out infinite alternate;
  transition: transform 0.3s ease;
}

.animated-logo:hover {
  transform: scale(1.1);
}

@keyframes bounce {
  from {
    transform: translateY(0);
  }
  to {
    transform: translateY(-3px);
  }
}

/* Navbar Links */
.navbar-nav .nav-link {
  color: #eee !important;
  position: relative;
  transition: color 0.3s ease;
}

.navbar-nav .nav-link:hover {
  color: #ffc107 !important;
}

.navbar-nav .nav-link.active {
  color: #fff !important;
  font-weight: bold;
}

.navbar-nav .nav-link.active::after {
  content: '';
  position: absolute;
  bottom: -4px;
  left: 0;
  width: 100%;
  height: 3px;
  background-color: #ffc107;
  border-radius: 2px;
}

/* Button Shadows */
.btn {
  transition: transform 0.2s ease;
}
.btn:hover {
  transform: scale(1.05);
}
body {
  background: linear-gradient(-45deg, #1f1c2c, #928dab, #2c3e50, #4b6cb7);
  background-size: 400% 400%;
  animation: gradientFlow 15s ease infinite;
}

@keyframes gradientFlow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

</style>


